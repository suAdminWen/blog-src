---
title: git tag管理
date: 2019-12-10
tags: [git]
---

转载：[Git标签管理－添加、查看、删除Git标签](https://itbilu.com/other/relate/4yUYrTKlx.html)

在使用`Git`做为代码管理工具的项目，当有新版本上线时，一般会建立一个版本标签。`Git`标签是项目里程碑和历史状态关键点的标识，我们可以根据项目标签来查看历史某一版本的代码，也可以根据项目标签来回滚代码。`Git`标签在项目发布、版本管理中有着非常重要的作用。

### 1. 新建`Git`标签

新建标签使用`git tag -a 标签名`命令：

```
git tag -a v1.0 -m 'v1.0的备注信息'
```

通过以上命名，创建了`v1.0`标签，并使用`-m`参数添加了备注信息

**创建带签名的标签**

`git tag -a`命令创建的标签不带签名，如果需要创建带签名的标签可以使用`git tag -s 标签名`命令，带签名的标签会使用`gpg`私钥对标签进行加密，以保障标签的安全性。

```
git tag -s v1.0 -m 'sign v1.0 tag'
```

创建签名标签后，可以使用`git tag -v 标签名`命名验证标签的合法性：

```
git tag -v v1.0
```

### 2. 推送标签到远程服务器

添加标签后，标签会被添加到`git`本地代码库中。要想将标签推送到远程服务器，需要将其推送到远程服务器中，使用`git push`命令只能推送提交的代码，不能推送标签，提交标签需要增加`--tags`参数：

```
git push --tags
```

### 3. 查看标签

查看项目中所有标签使用`git tag`命令，该命令会列出所有已添加的标签：

```
git tag
```

`git tag`命令会简单显示标签名，如果需要查看描述信息，则使用以下命令：

```
git tag -ln
```

回滚版本时，我们需要根据标签名查找相应的`commit`提交信息。`git show 标签名`会列出标签信息，及其下详细的提交信息：

```
git show v1.0
```

### 4. 删除标签

标签提交有误，或想删除很久以前的标签，可以`git tag -d 标签名`命令将本地标签删除：

```
git tag -d v1.0
```

删除远程标签：

```ruby
git push origin :refs/tags/v1.0  
```

`Git`标签，是使用`Git`进行代码管理中不可缺少的部分。通过`Git`标签，可以让你更加便的进行项目管理，版本标识和代码回滚。



参考：

- [git tag 删除](https://www.jianshu.com/p/208aff2dccdc)